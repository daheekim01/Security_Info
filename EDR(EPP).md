## EDR/EPP/서버 백신 🐰

## **1. EDR (Endpoint Detection and Response)**

### **개념**

* **EDR**은 엔드포인트(사용자 PC, 서버 등)의 **위협 탐지** 및 **사고 대응**을 위한 솔루션입니다.
* 주로 **침해 사고 발생 시, 실시간으로 데이터를 수집**하고, 이를 기반으로 **위협 분석 및 대응**을 수행합니다.
* EDR은 **단순히 악성 코드 탐지**를 넘어서, **비정상적인 행동**과 **이상 징후**를 감지하여, **심층 분석** 및 **자동화된 대응**이 가능합니다.

### **기능**

* **로그 수집 및 분석**: 사용자 PC와 서버 로그를 수집하여, 공격 발생 시 **신뢰성 있는 로그 분석**이 가능.
* **실시간 모니터링**: 엔드포인트에서 발생하는 모든 활동을 실시간으로 감시하고 분석합니다.
* **쿼리(Query) 기반 분석**: SIEM처럼 쿼리를 사용하여 보안 이벤트나 로그 데이터를 조회하고, 특정 인증서가 EDR이 설치된 서버에 존재하는지 등 빠르게 확인할 수 있습니다.
* **침해 사고 대응**: 위협이 감지되면 자동으로 대응 조치를 취하거나, 수동 대응을 할 수 있도록 도와줍니다.

### **장점**

* **정확한 사고 분석**: EDR이 로그를 수집하고 분석함으로써, 공격자가 로그를 지우거나 조작하는 것을 방지할 수 있어, 침해 사고 발생 시 신뢰성 있는 로그 분석이 가능합니다.
* **신속한 대응**: 쿼리 기반으로 빠르게 이벤트를 조회하여 대응 시간을 대폭 절약할 수 있습니다.

---

## **2. EPP (Endpoint Protection Platform | 안티바이러스)**

### **개념**

* **EPP**는 엔드포인트 보호를 위한 **통합 보안 솔루션**으로, 악성 코드(바이러스, 웜, 트로이 목마 등) 탐지와 차단 기능을 제공합니다.
* 일반적으로 **안티바이러스**와 **서버 백신** 역할을 포함하며, **실시간 보호**와 **정기적인 스캔**을 통해 엔드포인트를 보호합니다.
 * 예시: **SEP (Symantec Endpoint Protection)**: 바이러스 및 악성 코드/침입 차단, DLP 등

### **기능**

* **악성 코드 탐지**: 알려진 악성 코드 시그니처와 패턴을 바탕으로 실시간으로 악성 코드를 탐지합니다.(안티 바이러스의 역할)
* **실시간 보호**: 사용자가 웹을 탐색하거나 이메일을 확인할 때, 실시간으로 악성 코드를 차단합니다.
* **정기 스캔**: 엔드포인트를 주기적으로 검사하여 잠재적인 위험 요소를 사전에 제거합니다.

### **장점**

* **기본적인 악성 코드 탐지**: 시그니처 기반으로 악성 코드를 실시간으로 차단하고, **백그라운드**에서 작업을 수행합니다.
* **휴리스틱 엔진(직관적인 추론)**을 활용하여 **알려지지 않은 악성 코드**도 탐지할 수 있도록, **행동 기반 분석**과 **패턴 인식**을 사용합니다.

---

## **3. 서버 백신**

### **개념**

* **서버 백신**은 서버에서 실행되는 보안 프로그램으로, 악성 코드를 탐지하고 제거하는 기능을 제공합니다.
* EPP에서 제공하는 기능과 유사하지만, **서버 환경에 특화된 보호 기능**을 제공합니다.
  * 예시: **트렌드 마이크로** Deep Security (보안 솔루션)
    
### **기능**

* **실시간 악성 코드 탐지**: 서버 환경에서 실행되는 모든 프로그램을 실시간으로 모니터링하여 악성 코드를 차단합니다.
* **정기적인 백신 검사**: 서버에 설치된 백신이 **주기적으로 스캔**을 실행하여 악성 코드를 탐지합니다.
* **파일 해시값 비교**: 서버 내 파일의 해시값을 기준으로 변조된 파일을 찾아냅니다.

### **서명되지 않은 파일의 해시값 생성과 악용 사례**

* **서명되지 않은 파일**의 해시값을 생성하여, 악성 코드의 **변경 여부**를 감지합니다.
* 공격자가 악성 코드를 파일로 변조하거나, 서명되지 않은 파일을 사용하여 공격을 시도할 수 있기 때문에, 해시값 기반으로 변조된 파일을 추적하는 기술이 중요합니다.

### **장점**

* **고급 보호 기능**: EPP와 EDR의 결합으로 **서버 환경을 전방위적으로 보호**할 수 있습니다.
* **침해 사고 시 신뢰성 있는 로그 분석**: EDR과 함께 사용하면, 서버에서 발생한 **모든 활동을 기록**하고 신뢰성 있는 로그를 제공하여 침해 사고 분석이 용이합니다.
* **변종 악성 코드 탐지**: EPP와 **휴리스틱 엔진**을 이용해 알려지지 않은 신종 악성 코드나 변종 악성 코드도 탐지 가능합니다.

---

## **4. EDR, EPP, 서버 백신의 차이점**

| **항목**    | **EDR**                       | **EPP** (Endpoint Protection Platform) | **서버 백신**                     |
| --------- | ----------------------------- | -------------------------------------- | ----------------------------- |
| **목적**    | 엔드포인트에서 발생한 **위협 탐지 및 대응**    | 악성 코드 탐지 및 차단의 **예방 중심**                      | 서버에서 발생하는 **악성 코드 탐지 및 차단**   |
| **핵심 기능** | 실시간 **로그 수집**, **이상 행동 탐지**   | **악성 코드 시그니처 탐지**, **휴리스틱 탐지**         | 실시간 악성 코드 탐지, **파일 해시값 비교**   |
| **주요 기술** | **실시간 모니터링**, **쿼리 기반 분석**    | **시그니처 기반 탐지**, **행동 기반 탐지**           | **휴리스틱 엔진**을 이용한 **행동 기반 탐지** |
| **장점**    | 신뢰성 있는 **로그 분석**, **자동화된 대응** | **알려진 악성 코드** 차단, **실시간 보호**           | 서버 환경에 최적화된 **보안 기능** 제공      |
| **대응 속도** | **빠른 대응** 및 **자동화된 사고 대응**    | **실시간 차단**                             | 서버 환경에서의 **즉시 대응**            |

---

## 🐻‍❄️ 참고

### ✔️**EPP(Endpoint Protection Platform) | 안티바이러스가 EDR의 서버백신 역할을 한다**

* **EPP**가 **EDR**의 서버백신 역할을 수행합니다. EDR이 설치되면 사용자 PC와 서버 로그들을 모두 수집하므로, **침해 사고 발생 시 신뢰성 있는 로그 분석이 용이**합니다.

  * 만약 EDR이 없다면 서버에서 직접 로그를 수집해야 하는데, 공격자가 로그를 지우거나 조작해 두었을 경우 분석이 어렵습니다.

### ✔️**쿼리 기반 로그 조회**

* EDR에서는 SIEM처럼 보안 이벤트나 로그 데이터를 조회·분석하기 위해 \*\*쿼리(Query)\*\*를 사용할 수 있습니다.
* 쿼리를 사용하여 **매칭되는 로그만 바로 찾을 수 있어** 시간을 대폭 절약하는 장점이 있습니다.

  * 예시: 특정한 인증서가 EDR이 설치된 서버들에 존재하는지, 인증서 없이 생성된 파일의 해시값이 존재하는지 등을 조회할 수 있습니다.

### ✔️**서명되지 않은 파일의 해시값 생성과 악용 사례**

* **서명되지 않은 파일**이 악성 코드로 변조되었을 때, 그 파일의 **해시값**을 생성하고 이를 추적함으로써 악성 코드를 탐지할 수 있습니다.

